<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="admin-sidebar">
    <!-- Sidebar -->
    <div id="sidebar" class="fixed inset-y-0 left-0 z-30 w-64 bg-gray-900 shadow-lg transform -translate-x-full lg:translate-x-0 lg:static lg:inset-0 transition-transform duration-300 ease-in-out">
        <!-- Sidebar Header -->
        <div class="flex items-center justify-between h-16 px-6 border-b border-gray-700">
            <h2 class="text-lg font-semibold text-white">Admin Panel</h2>
            <button id="sidebar-close" class="lg:hidden text-gray-400 hover:text-gray-300">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <!-- Sidebar Navigation -->
        <nav class="mt-6 px-3">
            <div class="space-y-1">
                <!-- Dashboard -->
                <a th:href="@{/admin/dashboard}" 
                   th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                     currentUri == '/admin/dashboard' ? 'bg-red-600 text-white' : 'text-gray-300 hover:bg-gray-800 hover:text-white'
                   }|">
                    <i class="fas fa-tachometer-alt mr-3 text-lg"></i>
                    Dashboard
                </a>

                <!-- User Management (dropdown) -->
                <div class="space-y-1">
                    <button type="button"
                        class="group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 w-full text-left text-gray-300 hover:bg-gray-800 hover:text-white focus:outline-none"
                        onclick="document.getElementById('user-submenu-unique').classList.toggle('hidden')">
                        <i class="fas fa-users mr-3 text-lg"></i>
                        User
                        <svg class="ml-auto h-4 w-4 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div id="user-submenu-unique" class="ml-6 space-y-1 hidden">
                        <a th:href="@{/admin/landlords}"
                           th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                             currentUri == '/admin/landlords' ? 'bg-red-600 text-white' : 'text-gray-400 hover:bg-gray-800 hover:text-white'
                           }|">
                            <i class="fas fa-user-tie mr-3 text-sm"></i>
                            Landlord
                        </a>
                        <a th:href="@{/admin/landlord-requests}"
                           th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                             currentUri == '/admin/landlord-requests' ? 'bg-red-600 text-white' : 'text-gray-400 hover:bg-gray-800 hover:text-white'
                           }|">
                            <i class="fas fa-user-plus mr-3 text-sm"></i>
                            Landlord Requests
                        </a>
                    </div>
                </div>

                <!-- Listing Management (dropdown) -->
                <div class="space-y-1">
                    <button type="button"
                        class="group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 w-full text-left text-gray-300 hover:bg-gray-800 hover:text-white focus:outline-none"
                        onclick="document.getElementById('listing-submenu-unique').classList.toggle('hidden')">
                        <i class="fas fa-list mr-3 text-lg"></i>
                        Listing
                        <svg class="ml-auto h-4 w-4 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div id="listing-submenu-unique" class="ml-6 space-y-1 hidden">
                        <a th:href="@{/admin/listings}"
                           th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                             currentUri != null and #strings.startsWith(currentUri, '/admin/listings') ? 'bg-red-600 text-white' : 'text-gray-400 hover:bg-gray-800 hover:text-white'
                           }|">
                            <i class="fas fa-list-ul mr-3 text-sm"></i>
                            Listing Management
                        </a>
                        <a th:href="@{/admin/system-configs}"
                           th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                             currentUri == '/admin/system-configs' ? 'bg-red-600 text-white' : 'text-gray-400 hover:bg-gray-800 hover:text-white'
                           }|">
                            <i class="fas fa-sliders-h mr-3 text-sm"></i>
                            Listing Price
                        </a>
                    </div>
                </div>

                <!-- Property Management (dropdown) -->
                <div class="space-y-1">
                    <button type="button"
                        class="group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 w-full text-left text-gray-300 hover:bg-gray-800 hover:text-white focus:outline-none"
                        onclick="document.getElementById('property-submenu-unique').classList.toggle('hidden')">
                        <i class="fas fa-home mr-3 text-lg"></i>
                        Property
                        <svg class="ml-auto h-4 w-4 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div id="property-submenu-unique" class="ml-6 space-y-1 hidden">
                        <a th:href="@{/admin/categories}"
                           th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                             currentUri == '/admin/categories' ? 'bg-red-600 text-white' : 'text-gray-400 hover:bg-gray-800 hover:text-white'
                           }|">
                            <i class="fas fa-tags mr-3 text-sm"></i>
                            Categories
                        </a>
                    </div>
                </div>

                <!-- Booking Management -->
                <a th:href="@{/admin/bookings}" 
                   th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                     currentUri == '/admin/bookings' ? 'bg-red-600 text-white' : 'text-gray-300 hover:bg-gray-800 hover:text-white'
                   }|">
                    <i class="fas fa-calendar-check mr-3 text-lg"></i>
                    Bookings
                </a>

                <!-- Transaction Management -->
                <a th:href="@{/admin/transactions}" 
                   th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                     currentUri == '/admin/transactions' ? 'bg-red-600 text-white' : 'text-gray-300 hover:bg-gray-800 hover:text-white'
                   }|">
                    <i class="fas fa-credit-card mr-3 text-lg"></i>
                    Transactions
                </a>

                <!-- Review Management -->
                <a th:href="@{/admin/reviews}" 
                   th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                     currentUri == '/admin/reviews' ? 'bg-red-600 text-white' : 'text-gray-300 hover:bg-gray-800 hover:text-white'
                   }|">
                    <i class="fas fa-star mr-3 text-lg"></i>
                    Reviews
                    <span class="ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full">2</span>
                </a>

                <!-- Reports & Analytics -->
                <div class="space-y-1">
                    <a th:href="@{/admin/reports}" 
                       th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                         currentUri != null and #strings.startsWith(currentUri, '/admin/reports') ? 'bg-red-600 text-white' : 'text-gray-300 hover:bg-gray-800 hover:text-white'
                       }|">
                        <i class="fas fa-chart-bar mr-3 text-lg"></i>
                        Reports
                    </a>
                    
                    <a th:href="@{/admin/analytics}" 
                       th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ml-6 ${
                         currentUri == '/admin/analytics' ? 'bg-red-600 text-white' : 'text-gray-400 hover:bg-gray-800 hover:text-white'
                       }|">
                        <i class="fas fa-chart-line mr-3 text-sm"></i>
                        Analytics
                    </a>
                </div>

                <!-- System Management -->
                <div class="pt-6 border-t border-gray-700">
                    <a th:href="@{/admin/settings}"
                       th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                         currentUri == '/admin/settings' ? 'bg-red-600 text-white' : 'text-gray-300 hover:bg-gray-800 hover:text-white'
                       }|">
                        <i class="fas fa-cog mr-3 text-lg"></i>
                        Settings
                    </a>
                    <a th:href="@{/admin/logs}"
                       th:class="|group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                         currentUri == '/admin/logs' ? 'bg-red-600 text-white' : 'text-gray-300 hover:bg-gray-800 hover:text-white'
                       }|">
                        <i class="fas fa-file-alt mr-3 text-lg"></i>
                        System Logs
                    </a>
                </div>
            </div>
        </nav>
    </div>

    <!-- Overlay for mobile -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-gray-600 bg-opacity-75 z-20 lg:hidden hidden"></div>
    
    <!-- Sidebar JavaScript -->
    <script th:src="@{/js/admin/sidebar.js}"></script>
</div>
</html> 