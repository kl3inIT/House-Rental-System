<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="landlord-sidebar">
    <!-- Sidebar -->
    <div id="sidebar" class="fixed inset-y-0 left-0 z-30 w-64 bg-white shadow-lg transform -translate-x-full lg:translate-x-0 lg:static lg:inset-0 transition-transform duration-300 ease-in-out">
        <!-- Sidebar Header -->
        <div class="flex items-center justify-between h-16 px-6 border-b border-gray-200">
            <h2 class="text-lg font-semibold text-gray-900">Landlord Panel</h2>
            <button id="sidebar-close" class="lg:hidden text-gray-400 hover:text-gray-600">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <!-- Sidebar Navigation -->
        <nav class="mt-6 px-3">
            <div class="space-y-1">
                <!-- Dashboard -->
                <a th:href="@{/landlord/dashboard}" 
                   th:class="'group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ' + (${currentUri == '/landlord/dashboard'} ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-100 hover:text-gray-900')">
                    <i class="fas fa-tachometer-alt mr-3 text-lg"></i>
                    Dashboard
                </a>

                <!-- Properties -->
                <div class="space-y-1">
                    <!-- Parent link (dropdown toggle) -->
                    <button type="button"
                            class="group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 text-gray-700 hover:bg-gray-100 hover:text-gray-900"
                            onclick="toggleDropdown('property-submenu')">
                        <span class="flex items-center">
                            <i class="fas fa-home mr-3 text-lg"></i>
                            My Properties
                        </span>
                        <i class="fas fa-chevron-down transition-transform duration-200" id="property-chevron"></i>
                    </button>

                    <!-- Dropdown submenu -->
                    <div id="property-submenu" class="ml-6 space-y-1 hidden">
                        <a th:href="@{/landlord/properties}"
                           th:class="'block px-3 py-2 text-sm rounded-md font-medium transition ' + (${currentUri == '/landlord/properties'} ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900')">
                            View All Properties
                        </a>
                        <a th:href="@{/landlord/properties/new}"
                           th:class="'block px-3 py-2 text-sm rounded-md font-medium transition ' + (${currentUri == '/landlord/properties/new'} ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900')">
                            Add New Property
                        </a>
                    </div>
                </div>

                <script>
                    function toggleDropdown(id) {
                        const submenu = document.getElementById(id);
                        submenu.classList.toggle("hidden");
                    }
                </script>
                <!-- Requests -->
                <a th:href="@{/landlord/requests}" 
                   th:class="'group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ' + (${currentUri == '/landlord/requests'} ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-100 hover:text-gray-900')">
                    <i class="fas fa-envelope mr-3 text-lg"></i>
                    Rental Requests
                    <span class="ml-auto bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">5</span>
                </a>

                <!-- Bookings -->
                <a th:href="@{/landlord/bookings}" 
                   th:class="'group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ' + (${currentUri == '/landlord/bookings'} ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-100 hover:text-gray-900')">
                    <i class="fas fa-calendar-check mr-3 text-lg"></i>
                    Bookings
                </a>



                <!-- Messages -->
                <a th:href="@{/landlord/messages}" 
                   th:class="'group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ' + (${currentUri == '/landlord/messages'} ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-100 hover:text-gray-900')">
                    <i class="fas fa-comments mr-3 text-lg"></i>
                    Messages
                    <span class="ml-auto bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">2</span>
                </a>

                <!-- Settings -->
                <div class="pt-6 border-t border-gray-200">
                    <a th:href="@{/landlord/settings}" 
                       th:class="'group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ' + (${currentUri == '/landlord/settings'} ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-100 hover:text-gray-900')">
                        <i class="fas fa-cog mr-3 text-lg"></i>
                        Settings
                    </a>
                </div>
            </div>
        </nav>
    </div>

    <!-- Overlay for mobile -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-gray-600 bg-opacity-75 z-20 lg:hidden hidden"></div>
    
    <!-- Sidebar JavaScript -->
    <script th:src="@{/js/landlord/sidebar.js}"></script>
</div>
</html> 